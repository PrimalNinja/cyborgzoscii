<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZOSCII MQ System Documentation</title>
	<link rel="stylesheet" type="text/css" href="cu-styles.css">
</head>
<body>

<!-- SUPPORT -->
<div class="container">
	<section class="support-box">
		<h2>üöÄ Support ZOSCII</h2>
		<p>This software is free and open-source (MIT license). 
		   Help prove ZOSCII works by using it.</p>
		<p style="margin-top: 15px;"><strong>ZOSCII development is 
		   supported entirely by ZOSCIICOIN.</strong></p>
		<a href="https://zosciicoin.com" target="_blank" class="btn">
		   Learn more about ZOSCIICOIN
		</a>
	</section>

    <h1>ZOSCII MQ System Documentation</h1>

    <h2>1. ZOSCII MQ: Overview and Advantage</h2>
	<p>The World's First Truly Quantum Proof Message Queue (MQ) when used in conjunction with ZOSCII.</p>
    <p>ZOSCII MQ is a minimal, file-based Message Queue (MQ) designed for high-assurance, B2B asynchronous communication. It leverages the file system for durability and uses specific file naming conventions for chronological ordering and message retention.</p>

    <h3>Why Use ZOSCII MQ?</h3>
    <p>The architecture offers key advantages over traditional message brokers (like RabbitMQ or Kafka) in specific freight and logistics scenarios:</p>
    <ul>
        <li><strong>High Durability (Disk-First):</strong> Messages are written directly to the file system. Durability is tied directly to the operating system and disk health, ensuring messages are safe immediately upon publishing.</li>
        <li><strong>Asynchronous B2B Integration:</strong> It excels at decoupling systems. The Puller (<code>replikate.php</code>) model allows external partners to control their consumption rate and timing, minimizing your exposure to their network failures.</li>
        <li><strong>Security Integration (ITS):</strong> The file-based nature is perfectly suited for integrating Information Theoretic Security (ITS) encoding, where the message payload is encoded before being written to disk, offering a higher level of data security than standard SSL/TLS alone. The server needs no knownedge of the message content.</li>
        <li><strong>Simplicity and Control:</strong> There is no complex daemon, database, or broker to manage. All state is controlled via files, making it easy to audit and debug.</li>
    </ul>

    <table>
        <thead>
            <tr>
                <th>Feature</th>
                <th>ZOSCII MQ (File-Based)</th>
                <th>Traditional Broker (RabbitMQ/Kafka)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Durability</strong></td>
                <td>OS/Disk itself (Persistent)</td>
                <td>Configurable (Often RAM/DB)</td>
            </tr>
            <tr>
                <td><strong>Guaranteed Delivery</strong></td>
                <td>External Pointer Tracking (Puller's responsibility)</td>
                <td>Built-in ACK/Offset Tracking</td>
            </tr>
            <tr>
                <td><strong>Architecture</strong></td>
                <td>Simple HTTP Endpoint + File System</td>
                <td>Complex Daemon/Cluster Management</td>
            </tr>
        </tbody>
    </table>

    <h2>2. Usage for Integrators: Reading and Writing Messages</h2>
    <p>ZOSCII MQ uses a simple HTTP API (via <code>index.php</code>) for publishing and fetching messages, and a cron script (<code>replikate.php</code>) for B2B integration.</p>

    <h3>A. Publishing Messages (Writing to a Queue)</h3>
    <p>Messages are published using an HTTP <code>GET</code> request to the <code>index.php</code> endpoint.</p>

    <p>Endpoint:</p>
    <code>/index.php?action=publish</code>

    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Required</th>
                <th>Description</th>
                <th>Example Value</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><code>action</code></td>
                <td>Yes</td>
                <td>Must be <code>publish</code>.</td>
                <td><code>publish</code></td>
            </tr>
            <tr>
                <td><code>q</code></td>
                <td>Yes</td>
                <td>The name of the target queue.</td>
                <td><code>customer_a</code></td>
            </tr>
            <tr>
                <td><code>msg</code></td>
                <td>Yes</td>
                <td>The raw message payload (should be URL-encoded).</td>
                <td><code>{"item":"A"}</code></td>
            </tr>
            <tr>
                <td><code>n</code></td>
                <td>Optional</td>
                <td>An optional NONCE or GUID to prevent retries from duplicating messages in the queue.</td>
                <td><code>a1b2c3d4-e5f6-4000-8000-0123456789ab</code></td>
            </tr>
            <tr>
                <td><code>r</code></td>
                <td>Optional</td>
                <td><strong>Retention Days (RRRR)</strong>. 0000 = no expected retention (suitable for testing).</td>
                <td><code>7</code></td>
            </tr>
        </tbody>
    </table>

    <p>Example Command (HTTP):</p>
    <pre><code>GET /index.php?action=publish&amp;q=customer_b&amp;r=30&amp;msg=%7B%22sku%22%3A%20%22123%22%7D&amp;n=a1b2c3d4-e5f6-4000-8000-0123456789ab</code></pre>
    
    <p>Filename Format:</p>
    <p>The message is saved as a file in the <code>queues/QUEUE_NAME/</code> directory with the format: <code>message-YYYYMMDDHHNNSSCCCC-RRRR.bin</code></p>

    <h3>B. Fetching Messages (Reading from a Queue - API Pull)</h3>
    <p>Messages are fetched sequentially using the unique filename as a <strong>pointer</strong>. The consumer must track this pointer (the <code>after</code> parameter) to ensure guaranteed, chronological delivery.</p>

    <p>Endpoint:</p>
    <code>/index.php?action=fetch</code>

    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>Required</th>
                <th>Description</th>
                <th>Example Value</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><code>action</code></td>
                <td>Yes</td>
                <td>Must be <code>fetch</code>.</td>
                <td><code>fetch</code></td>
            </tr>
            <tr>
                <td><code>q</code></td>
                <td>Yes</td>
                <td>The name of the source queue to read from.</td>
                <td><code>customer_b</code></td>
            </tr>
            <tr>
                <td><code>after</code></td>
                <td>Optional</td>
                <td><strong>The Pointer.</strong> The filename of the LAST successfully processed message. Leave blank or omit for the very first message.</td>
                <td><code>message-202510300900000001-0007.bin</code></td>
            </tr>
        </tbody>
    </table>

    <p>Consumer Responsibility (Guaranteed Delivery):</p>
    <ul>
        <li>The consumer must store the returned filename (<code>Content-Disposition</code> header) as its <strong>pointer</strong>.</li>
        <li>The consumer must only advance the pointer <strong>after</strong> successfully processing and acting on the message content.</li>
        <li><strong>The system performs no message acknowledgment (ACK).</strong> Delivery guarantee relies entirely on the consumer's proper use of the pointer (<code>after</code> parameter).</li>
    </ul>

<h3>C. B2B Replication (Puller)</h3>
<p>For external partners (e.g. ABC Ltd) to pull data from your (e.g. XYZ Ltd) queue, they should run a dedicated cron job on their server (e.g. ABC_LOCAL_SERVER).</p>
<p>Script:</p>
<code>replikate.php</code>
<p>Setup:</p>
<ul>
    <li>The partner must install this script on their server.</li>
    <li>They should set up a scheduled task (cron job or Windows Scheduler) to run the script every few minutes.</li>
</ul>
<p>Endpoint:</p>
<code>/replikate.php</code>
<table>
    <thead>
        <tr>
            <th>Parameter</th>
            <th>Required</th>
            <th>Description</th>
            <th>Example Value</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>url</code></td>
            <td>Yes</td>
            <td>The URL of the source server's <code>index.php</code></td>
            <td><code>https://XYZ_REMOTE_SERVER/index.php</code></td>
        </tr>
        <tr>
            <td><code>sq</code></td>
            <td>Yes</td>
            <td>The name of the source queue to read from</td>
            <td><code>XYZ_REMOTE_QUEUE (e.g. abc_orders</code></td>
        </tr>
        <tr>
            <td><code>tq</code></td>
            <td>Yes</td>
            <td>The name of the target queue on the partner's server</td>
            <td><code>ABC_LOCAL_QUEUE (e.g. my_orders)</code></td>
        </tr>
    </tbody>
</table>
<p>Example Command (HTTP):</p>
<pre><code>GET /replikate.php?url=https://SOURCESERVER/index.php&amp;sq=SOURCEQUEUE&amp;tq=TARGETQUEUE</code></pre>
<p>The script manages the state/pointer file (<code>replikate_state_my_orders.txt</code>) automatically.</p>

    <h2>3. Server Setup and Maintenance (For Administrators)</h2>

    <h3>A. Core Directory Structure</h3>
    <p>The system is file-based and requires a dedicated root directory:</p>
    <pre><code>./
|-- index.php             (HTTP API: Publish/Fetch)
|-- replikate.php         (Cron: External Puller)
|-- claireup.php          (Cron: Retention Cleanup)
|-- nonce/				  (Optional nonce files go here)
|-- queues/
|   |-- customer_a/       (Queue 1)
|   |   |-- message-*.bin
|   |-- customer_b/       (Queue 2)
|   |   |-- message-*.bin
|-- replikate_state_*.txt (State Files for Replicators)
|-- statissa.php          (Statistics, it's better to place statissa elsewhere)
</code></pre>

    <h3>B. Critical Cron Jobs</h3>
    <p>Two cron jobs must be set up on the ZOSCII MQ server to ensure stability:</p>

    <h4>1. Message Retention Cleanup (<code>claireup.php</code>)</h4>
    <p>This job ensures disk space is managed by deleting expired messages based on the **RRRR** value in the filename. It processes **all queues globally**.</p>
    <table>
        <thead>
            <tr>
                <th>Setting</th>
                <th>Value</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Script</strong></td>
                <td><code>claireup.php</code></td>
                <td>The retention management script.</td>
            </tr>
            <tr>
                <td><strong>Schedule</strong></td>
                <td>Once daily (e.g., <code>0 0 * * *</code>)</td>
                <td>Runs at midnight to clear the previous day's expired files.</td>
            </tr>
            <tr>
                <td><strong>Action</strong></td>
                <td>Deletes any message file where <code>Current Time</code> $\ge$ (<code>Message Time</code> + <code>RRRR</code> days). <strong>It deletes messages with RRRR=0000.</strong></td>
				<td></td>
            </tr>
        </tbody>
    </table>
    <p>Cron Example:</p>
	<p>Although it's possible to run claireup.php from a browser it is recommended to run it from cron if possible. To run it from the browser, you will first need to change the CLI_ONLY constant to FALSE from within the claireup.php file. If you do that, you are best ensure that it cannot be run by unauthorised parties if you don't want it to run.</p>
    <pre><code>0 0 * * * /usr/bin/php /path/to/claireup.php</code></pre>

<h2>4. ZOSCII MQ Deployment Strategies</h2>

<p>ZOSCII MQ supports two primary deployment patterns, each optimized for different use cases:</p>

<h3>Strategy 1: Internal Business Message Bus</h3>
<div style="background-color: #f5f5f5; padding: 20px; border-radius: 8px; margin: 20px 0;">
    <h4>Architecture</h4>
    <ul>
        <li><strong>Primary Server:</strong> Single ZOSCII MQ instance on internal network (1Gb+ LAN)</li>
        <li><strong>Optional Replication:</strong> 1 backup server using <code>replikate.php</code> for high availability</li>
        <li><strong>Use Case:</strong> Internal departmental messaging, microservices communication, audit logs</li>
    </ul>
    
    <h4>Characteristics</h4>
    <ul>
        <li>Low latency (LAN speeds)</li>
        <li>Higher throughput (tens of thousands/day possible)</li>
        <li>Simple disaster recovery via replikate.php</li>
        <li>All traffic within company firewall</li>
    </ul>
    
    <h4>Typical Setup</h4>
    <pre style="background-color: #fff; padding: 10px; border: 1px solid #ddd;">
Primary Server (HQ)          Backup Server (DR Site)
   ZOSCII MQ        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí      ZOSCII MQ
   [All Queues]     replikate   [Mirror Copy]
                    (periodic)
    </pre>
</div>

<h4>Message Distribution Patterns</h4>

<div style="background-color: #e3f2fd; padding: 15px; border-radius: 5px; margin: 15px 0;">
    <h5>Pattern 1: Standard Fan-Out (No replikate.php needed)</h5>
    <p><strong>Single queue, multiple readers - built-in ZOSCII MQ capability</strong></p>
    <pre style="background-color: #fff; padding: 15px; border: 1px solid #ddd; margin: 10px 0;">
              Primary Server
                 ZOSCII MQ
          [company_announcements]
                    ‚Üì
       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚Üì            ‚Üì            ‚Üì            ‚Üì
    John's PC    Mary's PC    Bob's PC    ... 1,000+ PCs
    
<strong>1 message published ‚Üí 1,000+ PCs all fetch from same queue</strong>
Each PC independently reads the same messages
No replication needed - standard ZOSCII MQ behavior
    </pre>
    
    <p><strong>Use Cases:</strong></p>
    <ul>
        <li>Company-wide announcements to all employee desktops</li>
        <li>Emergency alerts to all users</li>
        <li>System notifications broadcast</li>
        <li>Price/inventory updates to all sales terminals</li>
    </ul>
    
    <p><strong>Benefits:</strong></p>
    <ul>
        <li>Simple: 1 queue, many readers</li>
        <li>Each PC tracks its own pointer (last message read)</li>
        <li>Offline PCs catch up when reconnected</li>
        <li>No additional infrastructure needed</li>
    </ul>
</div>

<div style="background-color: #f3e5f5; padding: 15px; border-radius: 5px; margin: 15px 0;">
    <h5>Pattern 2: Server Striping with replikate.php (Advanced)</h5>
    <p><strong>Distribute load across multiple servers for scale/geography</strong></p>
    <pre style="background-color: #fff; padding: 15px; border: 1px solid #ddd; margin: 10px 0;">
                Primary Server (HQ)
                   ZOSCII MQ
            [company_announcements]
                      ‚Üì
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚Üì                       ‚Üì               ‚Üì
     replikate.php          replikate.php    replikate.php
          ‚Üì                       ‚Üì               ‚Üì
    Server A (Sydney)       Server B (Tokyo)  Server C (London)
      ZOSCII MQ               ZOSCII MQ         ZOSCII MQ
          ‚Üì                       ‚Üì               ‚Üì
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚Üì     ‚Üì     ‚Üì           ‚Üì     ‚Üì     ‚Üì   ‚Üì     ‚Üì     ‚Üì
  PC1   PC2  PC500       PC501 PC502 PC1000 ... PC2000 PC3000

<strong>1 message ‚Üí striped to 3 regional servers ‚Üí 3,000+ PCs globally</strong>
Each regional server services local PCs (lower latency)
    </pre>
    
    <p><strong>Use Cases:</strong></p>
    <ul>
        <li><strong>Geographic Distribution:</strong> Regional servers for Sydney, Tokyo, London offices</li>
        <li><strong>Load Balancing:</strong> Split 10,000 users across 10 servers (1,000 each)</li>
        <li><strong>Department Separation:</strong> Sales server, Operations server, Finance server</li>
        <li><strong>Network Segmentation:</strong> Different security zones/VLANs</li>
    </ul>
    
    <p><strong>Benefits:</strong></p>
    <ul>
        <li><strong>Reduced Latency:</strong> Users fetch from local/regional server</li>
        <li><strong>Load Distribution:</strong> No single bottleneck server</li>
        <li><strong>Bandwidth Optimization:</strong> 1 message crosses WAN once, then fans out locally</li>
        <li><strong>Fault Isolation:</strong> Regional server down doesn't affect other regions</li>
        <li><strong>Network Efficiency:</strong> Stripe 1 message to 3 servers instead of 3,000 PCs fetching over WAN</li>
    </ul>
</div>

<div style="background-color: #fff3cd; padding: 15px; border-radius: 5px; margin: 15px 0; border-left: 4px solid #ffc107;">
    <h5>üìä Scale Example: Global Company Alert</h5>
    <p><strong>Without Striping (Pattern 1):</strong></p>
    <ul>
        <li>1 message on HQ server</li>
        <li>3,000 global PCs all fetch from HQ over internet</li>
        <li>Network impact: 3,000 √ó message_size bandwidth</li>
    </ul>
    
    <p><strong>With Striping (Pattern 2):</strong></p>
    <ul>
        <li>1 message on HQ server</li>
        <li>replikate.php sends to 3 regional servers (3 √ó message_size over WAN)</li>
        <li>3,000 PCs fetch from local regional servers over LAN</li>
        <li>Network impact: Massively reduced WAN traffic, faster delivery</li>
    </ul>
    
    <p><strong>Result:</strong> 1,000√ó reduction in WAN bandwidth usage</p>
</div>

<h3>Strategy 2: High Throughput AWS B2B Integration</h3>
<div style="background-color: #e8f5e9; padding: 20px; border-radius: 8px; margin: 20px 0;">
    <h4>Architecture</h4>
    <ul>
        <li><strong>Per-Business Instances:</strong> Each large business partner gets their own Docker container on AWS</li>
        <li><strong>Independent Infrastructure:</strong> Isolated, scalable, customer-controlled</li>
        <li><strong>Central Aggregation:</strong> Head office server pulls from all business instances 24/7 using <code>replikate.php</code></li>
        <li><strong>Use Case:</strong> B2B freight/logistics, EDI documents, compliance data exchange</li>
    </ul>
    
    <h4>Characteristics</h4>
    <ul>
        <li><strong>Traffic Pattern:</strong> Business hours (9am-6pm), peak 4pm-7pm, light overnight</li>
        <li><strong>Network:</strong> Internet-based (100-500 Mbps typical)</li>
        <li><strong>Message Size:</strong> 100KB-350KB (designed range)</li>
        <li><strong>Volume:</strong> Thousands/day per business (realistic for B2B)</li>
        <li><strong>Replication:</strong> Continuous 24/7 pull from AWS to head office</li>
    </ul>
    
    <h4>Typical Setup</h4>
    <pre style="background-color: #fff; padding: 10px; border: 1px solid #ddd;">
Business A (AWS)         Business B (AWS)         Business C (AWS)
 ZOSCII MQ Docker         ZOSCII MQ Docker         ZOSCII MQ Docker
 [Push anytime]           [Push anytime]           [Push anytime]
      ‚Üì                         ‚Üì                         ‚Üì
      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚Üì
                    Head Office Server (Local)
                         ZOSCII MQ
                    [Pulls 24/7 via replikate.php]
                    [Aggregates all business data]
    </pre>
    
    <h4>Why This Works</h4>
    <ul>
        <li><strong>Customer Control:</strong> "Fill it as much as they like" - each business has dedicated capacity</li>
        <li><strong>Peak Handling:</strong> AWS scales for 3-hour peak windows (4pm-7pm)</li>
        <li><strong>Network Efficiency:</strong> Pull model means head office controls bandwidth usage</li>
        <li><strong>Cost Effective:</strong> Docker containers ($5-50/month each) vs expensive brokers</li>
        <li><strong>Zero Shared Risk:</strong> One customer's issues don't affect others</li>
    </ul>
</div>

<h3>Strategy Comparison</h3>
<table>
    <thead>
        <tr>
            <th>Aspect</th>
            <th>Internal Message Bus</th>
            <th>AWS B2B Integration</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><strong>Network</strong></td>
            <td>1Gb+ LAN</td>
            <td>Internet (100-500 Mbps)</td>
        </tr>
        <tr>
            <td><strong>Throughput/Day</strong></td>
            <td>Tens of thousands</td>
            <td>Thousands (per business)</td>
        </tr>
        <tr>
            <td><strong>Traffic Pattern</strong></td>
            <td>24/7 potential</td>
            <td>Business hours (bursty)</td>
        </tr>
        <tr>
            <td><strong>Deployment</strong></td>
            <td>On-premise / Private cloud</td>
            <td>AWS Docker (1 per customer)</td>
        </tr>
        <tr>
            <td><strong>Replication</strong></td>
            <td>Optional (DR backup)</td>
            <td>Continuous (aggregation)</td>
        </tr>
        <tr>
            <td><strong>Cost Model</strong></td>
            <td>Single server cost</td>
            <td>$5-50/month per customer</td>
        </tr>
        <tr>
            <td><strong>Use Case</strong></td>
            <td>Internal operations</td>
            <td>B2B document exchange</td>
        </tr>
    </tbody>
</table>

<div style="background-color: #fff3cd; padding: 15px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #ffc107;">
    <strong>Key Insight:</strong> The AWS B2B strategy is ZOSCII MQ's primary design target. The "thousands/day" performance reflects real-world B2B traffic patterns (business hours, peak windows) over internet connections - not a technical limitation.
</div>

<!-- COMPARISON SECTION -->
<h2>5. ZOSCII MQ vs. Traditional Message Brokers</h2>

<h3>Architecture Comparison</h3>
<table>
    <thead>
        <tr>
            <th>Feature</th>
            <th>ZOSCII MQ</th>
            <th>Apache Kafka</th>
            <th>RabbitMQ</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><strong>Core Size</strong></td>
            <td>~35 KB (PHP)</td>
            <td>~160 MB + JVM</td>
            <td>~150 MB + Erlang</td>
        </tr>
        <tr>
            <td><strong>Runtime Dependencies</strong></td>
            <td>PHP only</td>
            <td>JVM, Zookeeper/KRaft</td>
            <td>Erlang VM</td>
        </tr>
        <tr>
            <td><strong>Memory Footprint</strong></td>
            <td>~10-50 MB</td>
            <td>6-32+ GB typical</td>
            <td>1-4 GB typical</td>
        </tr>
        <tr>
            <td><strong>Protocol</strong></td>
            <td>HTTP/REST native</td>
            <td>Binary (needs REST Proxy)</td>
            <td>AMQP + HTTP API</td>
        </tr>
        <tr>
            <td><strong>Distributed Architecture</strong></td>
            <td>Federated (via replikate.php)</td>
            <td>Centralized cluster</td>
            <td>Cluster with federation</td>
        </tr>
        <tr>
            <td><strong>Cross-Organization B2B</strong></td>
            <td>‚úÖ Native (pull model)</td>
            <td>‚ùå Complex (VPN/proxy)</td>
            <td>‚ö†Ô∏è Possible (federation)</td>
        </tr>
        <tr>
            <td><strong>Message Storage</strong></td>
            <td>Direct file access</td>
            <td>Segmented logs</td>
            <td>Mnesia DB/Queues</td>
        </tr>
        <tr>
            <td><strong>Retention Model</strong></td>
            <td>Per-message (RRRR days)</td>
            <td>Per-topic configuration</td>
            <td>TTL or consumed</td>
        </tr>
        <tr>
            <td><strong>Setup Time</strong></td>
            <td>&lt; 5 minutes</td>
            <td>Hours to days</td>
            <td>30-60 minutes</td>
        </tr>
        <tr>
            <td><strong>Debugging</strong></td>
            <td>ls, cat, grep files</td>
            <td>JMX, complex tools</td>
            <td>Management UI</td>
        </tr>
    </tbody>
</table>

<h3>Performance and Scale</h3>
<table>
    <thead>
        <tr>
            <th>Metric</th>
            <th>ZOSCII MQ</th>
            <th>Apache Kafka</th>
            <th>RabbitMQ</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><strong>Primary Deployment Context</strong></td>
            <td>B2B over Internet</td>
            <td>Internal datacenter/LAN</td>
            <td>Internal datacenter/LAN</td>
        </tr>
        <tr>
            <td><strong>Throughput - Internet</strong><br/>
                <em>(100-500 Mbps typical)</em><br/>
                <em>(&gt;1KB messages)</em>
            </td>
            <td>
                ‚úÖ <strong>Good</strong><br/>
                Network-limited<br/>
                Thousands-tens of thousands/day
            </td>
            <td>
                ‚úÖ <strong>Good</strong><br/>
                Network-limited<br/>
                Thousands-tens of thousands/day
            </td>
            <td>
                ‚úÖ <strong>Good</strong><br/>
                Network-limited<br/>
                Thousands-tens of thousands/day
            </td>
        </tr>
        <tr>
            <td><strong>Throughput - Internet</strong><br/>
                <em>(100-500 Mbps typical)</em><br/>
                <em>(&gt;100KB messages)</em>
            </td>
            <td>
                ‚úÖ <strong>Optimal</strong><br/>
                <em>Designed for this</em><br/>
                Thousands/day<br/>
                Zero knowledge maintained
            </td>
            <td>
                ‚ö†Ô∏è <strong>Limited</strong><br/>
                Network bottleneck<br/>
                Hundreds-low thousands/day
            </td>
            <td>
                ‚ö†Ô∏è <strong>Limited</strong><br/>
                Network bottleneck<br/>
                Hundreds-low thousands/day
            </td>
        </tr>
        <tr>
            <td><strong>Throughput - Internet</strong><br/>
                <em>(100-500 Mbps typical)</em><br/>
                <em>(&gt;1MB messages)</em>
            </td>
            <td>
                ‚úÖ <strong>Handles Well</strong><br/>
                Network-limited<br/>
                Hundreds/day
            </td>
            <td>
                ‚ùå <strong>Poor</strong><br/>
                Network + config issues<br/>
                Tens-hundreds/day
            </td>
            <td>
                ‚ùå <strong>Poor</strong><br/>
                Network + memory issues<br/>
                Tens/day
            </td>
        </tr>
        <tr>
            <td colspan="4" style="background-color: #f5f5f5; text-align: center; font-weight: bold;">
                1 Gb LAN Performance (Internal Network)
            </td>
        </tr>
        <tr>
            <td><strong>Throughput - 1Gb LAN</strong><br/>
                <em>(Single node)</em><br/>
                <em>(&gt;1KB messages)</em>
            </td>
            <td>
                ‚úÖ <strong>Excellent</strong><br/>
                Disk I/O limited<br/>
                Tens of thousands/day<br/>
                100-1,000 msg/sec
            </td>
            <td>
                ‚úÖ <strong>Optimal</strong><br/>
                Peak performance<br/>
                Millions/day<br/>
                10,000-100,000+ msg/sec
            </td>
            <td>
                ‚úÖ <strong>Excellent</strong><br/>
                Strong performance<br/>
                Hundreds of thousands/day<br/>
                5,000-20,000 msg/sec
            </td>
        </tr>
        <tr>
            <td><strong>Throughput - 1Gb LAN</strong><br/>
                <em>(Single node)</em><br/>
                <em>(&gt;100KB messages)</em>
            </td>
            <td>
                ‚úÖ <strong>Excellent</strong><br/>
                <em>Still in designed range</em><br/>
                Tens of thousands/day<br/>
                Consistent performance
            </td>
            <td>
                ‚ö†Ô∏è <strong>Good (needs tuning)</strong><br/>
                Config changes needed<br/>
                Tens of thousands/day<br/>
                Efficiency drops
            </td>
            <td>
                ‚ö†Ô∏è <strong>Degraded</strong><br/>
                Memory pressure<br/>
                Low thousands/day<br/>
                Performance impact
            </td>
        </tr>
        <tr>
            <td><strong>Throughput - 1Gb LAN</strong><br/>
                <em>(Single node)</em><br/>
                <em>(&gt;1MB messages)</em>
            </td>
            <td>
                ‚úÖ <strong>Excellent</strong><br/>
                File-based handles naturally<br/>
                Thousands/day<br/>
                No memory pressure
            </td>
            <td>
                ‚ùå <strong>Poor</strong><br/>
                Major config needed<br/>
                Hundreds/day<br/>
                Batching ineffective
            </td>
            <td>
                ‚ùå <strong>Not Recommended</strong><br/>
                Severe issues<br/>
                Dozens/day<br/>
                Can crash under load
            </td>
        </tr>
        <tr>
            <td><strong>Horizontal Scaling</strong></td>
            <td>Federated (independent nodes)</td>
            <td>Add brokers to cluster</td>
            <td>Add nodes to cluster</td>
        </tr>
        <tr>
            <td><strong>Geographic Distribution</strong></td>
            <td>‚úÖ Excellent (federation)</td>
            <td>‚ö†Ô∏è Complex (MirrorMaker)</td>
            <td>‚úÖ Good (federation)</td>
        </tr>
    </tbody>
</table>

<div style="background-color: #e3f2fd; padding: 15px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #2196f3;">
    <strong>Note on Internet vs LAN Performance:</strong> All systems are network-limited over the internet. ZOSCII MQ's "thousands/day" reflects its primary B2B internet use case. On internal 1Gb LAN, ZOSCII MQ performs significantly faster (tens of thousands/day), though Kafka still leads for small message, high-volume internal workloads.
</div>

<h3>Security Comparison</h3>
<table>
    <thead>
        <tr>
            <th>Security Aspect</th>
            <th>ZOSCII MQ</th>
            <th>Apache Kafka</th>
            <th>RabbitMQ</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><strong>Message Handling</strong></td>
            <td>Transparent pass-through<br/>Data stored as-is</td>
            <td>Transparent pass-through<br/>Data stored as-is</td>
            <td>Transparent pass-through<br/>Data stored as-is</td>
        </tr>
        <tr>
            <td><strong>Server Knowledge</strong></td>
            <td>‚úÖ <strong>Zero knowledge by design</strong><br/>Built for ITS/ZOSCII<br/>Pure binary storage</td>
            <td>‚ö†Ô∏è Partial knowledge<br/>Keys, headers, offsets<br/>Schema registry possible</td>
            <td>‚ùå Message awareness<br/>Routing, properties, TTL<br/>Content-based routing</td>
        </tr>
        <tr>
            <td><strong>Data Storage</strong></td>
            <td>Raw bytes as provided<br/>No built-in encryption</td>
            <td>Raw bytes as provided<br/>No built-in encryption</td>
            <td>Raw bytes as provided<br/>No built-in encryption</td>
        </tr>
		<tr>
			<td><strong>Public Queue Sharing</strong></td>
			<td>‚úÖ <strong>Safe even if public</strong><br/>ITS/ZOSCII perfect secrecy<br/>Multiple parties, one queue</td>
			<td>‚ùå Requires encryption<br/>Vulnerable if exposed<br/>Computational security only</td>
			<td>‚ùå Requires encryption<br/>Vulnerable if exposed<br/>Computational security only</td>
		</tr>
		<tr>
			<td><strong>Queue/Topic Security</strong></td>
			<td>‚úÖ Can use secret names<br/>Capability-based access<br/>No enumeration</td>
			<td>‚ùå Topics visible<br/>Listed in metadata<br/>Requires ACLs</td>
			<td>‚ö†Ô∏è Queues visible<br/>Listed in management<br/>Requires permissions</td>
		</tr>
        <tr>
            <td><strong>Default Security</strong></td>
            <td>‚ö†Ô∏è None (relies on web server)</td>
            <td>‚ùå None (wide open)</td>
            <td>‚ö†Ô∏è Guest/guest (localhost only)</td>
        </tr>
        <tr>
            <td><strong>Authentication</strong></td>
            <td>HTTP Basic/Digest/OAuth<br/>(.htaccess, PHP session)</td>
            <td>SASL (PLAIN/SCRAM/GSSAPI)<br/>SSL certificates</td>
            <td>PLAIN/AMQPLAIN/EXTERNAL<br/>LDAP, OAuth 2.0</td>
        </tr>
        <tr>
            <td><strong>Transport Encryption</strong></td>
            <td>‚úÖ HTTPS (standard)</td>
            <td>TLS/SSL (must configure)</td>
            <td>TLS/SSL (built-in)</td>
        </tr>
        <tr>
            <td><strong>Message Encryption</strong></td>
            <td>‚úÖ ITS-ready (mentioned in docs)<br/>Application-level</td>
            <td>Application-level only</td>
            <td>Application-level only</td>
        </tr>
        <tr>
            <td><strong>Authorization/ACLs</strong></td>
            <td>Web server level<br/>PHP app logic</td>
            <td>Complex ACLs<br/>Per-topic permissions</td>
            <td>User/vhost permissions<br/>Regex-based</td>
        </tr>
        <tr>
            <td><strong>Cross-Organization B2B</strong></td>
            <td>‚úÖ Each org owns security<br/>No shared credentials</td>
            <td>‚ùå Shared cluster access<br/>VPN/proxy complexity</td>
            <td>‚ö†Ô∏è Federation possible<br/>Shared credentials</td>
        </tr>
        <tr>
            <td><strong>Attack Surface</strong></td>
            <td>HTTP endpoint only<br/>Standard web security</td>
            <td>Binary protocol<br/>9092+ other ports<br/>Zookeeper exposure</td>
            <td>AMQP + Management<br/>Multiple ports</td>
        </tr>
        <tr>
            <td><strong>Audit Trail</strong></td>
            <td>Web server logs<br/>Filesystem timestamps</td>
            <td>Audit log (enterprise)<br/>Complex setup</td>
            <td>Firehose tracer<br/>Management events</td>
        </tr>
        <tr>
            <td><strong>Security Setup Complexity</strong></td>
            <td>‚úÖ Simple (web standard)</td>
            <td>‚ùå Very complex<br/>(JAAS, keystores, ACLs)</td>
            <td>‚ö†Ô∏è Moderate</td>
        </tr>
        <tr>
            <td><strong>Network Isolation</strong></td>
            <td>‚úÖ Standard firewall rules<br/>HTTP/HTTPS only</td>
            <td>Multiple ports<br/>Internal communication</td>
            <td>Multiple ports<br/>Clustering ports</td>
        </tr>
        <tr>
            <td><strong>Data at Rest</strong></td>
            <td>Plain files<br/>(filesystem encryption)</td>
            <td>Plain logs<br/>(filesystem encryption)</td>
            <td>Mnesia DB<br/>(filesystem encryption)</td>
        </tr>
        <tr>
            <td><strong>Multi-Tenancy Security</strong></td>
            <td>‚úÖ Complete isolation<br/>(separate servers)</td>
            <td>‚ö†Ô∏è Namespace separation</td>
            <td>‚úÖ Vhost isolation</td>
        </tr>
    </tbody>
</table>

<div style="background-color: #e1f5fe; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #0288d1;">
    <h4>üîê ZOSCII MQ: Designed for Zero-Knowledge Security</h4>
    <p><strong>ZOSCII MQ is purpose-built for ZOSCII (100% secure Information Theoretic Encoding) with complete zero-knowledge architecture.</strong></p>
    <ul>
        <li>The server never inspects, parses, or processes message content</li>
        <li>Perfect companion for Information Theoretic Security (ITS) - mathematically unbreakable encryption</li>
        <li>Supports any data format: ZOSCII-encoded, traditional encryption, or plain text (your choice)</li>
        <li>No metadata leakage - only timestamp and retention visible to server</li>
        <li>Ideal for scenarios requiring absolute privacy: government, healthcare, finance, legal</li>
    </ul>
    <p style="margin-top: 15px;"><em>"The server doesn't know what it doesn't need to know."</em></p>
</div>

<div style="background-color: #e8f5e9; padding: 20px; border-radius: 8px; margin: 20px 0;">
    <h4>üîí ZOSCII MQ Security Advantages:</h4>
    <ul>
        <li><strong>Federated Security Model:</strong> Each organization maintains complete control over their own security policies, credentials, and access controls</li>
        <li><strong>Standard Web Security:</strong> Leverages decades of battle-tested HTTP/HTTPS security practices and tools</li>
        <li><strong>Pull-Based B2B:</strong> External partners never need credentials to YOUR system - they pull from their own secured endpoint</li>
        <li><strong>ITS Integration Ready:</strong> File-based architecture perfect for Information Theoretic Security encoding</li>
        <li><strong>Simpler Attack Surface:</strong> Single HTTP endpoint vs multiple ports and protocols</li>
        <li><strong>No Shared Infrastructure:</strong> Compromise of one node doesn't affect others in the federation</li>
    </ul>
</div>

<div style="background-color: #ffebee; padding: 20px; border-radius: 8px; margin: 20px 0;">
    <h4>‚ö†Ô∏è Security Considerations:</h4>
    <ul>
        <li>ZOSCII MQ requires proper web server configuration (.htaccess, SSL certificates)</li>
        <li>The ALLOW_GET setting should be FALSE in production (force POST only)</li>
        <li>Message content is visible in plain files unless application-level encryption is used</li>
        <li>No built-in authentication - must be added at web server or application layer</li>
    </ul>
</div>

<h3>Use Case Suitability</h3>
<div style="background-color: #f0f8ff; padding: 20px; border-radius: 8px; margin: 20px 0;">
    <h4>‚úÖ Choose ZOSCII MQ When:</h4>
    <ul>
        <li>B2B integration across organizational boundaries</li>
        <li>Message volume &lt; 10,000/day per queue</li>
        <li>Simplicity and maintainability are priorities</li>
        <li>You need direct file access for debugging/backup</li>
        <li>HTTP/REST is your standard integration protocol</li>
        <li>You want federated, loosely-coupled systems</li>
        <li>Operational expertise is limited</li>
    </ul>
</div>

<div style="background-color: #fff8dc; padding: 20px; border-radius: 8px; margin: 20px 0;">
    <h4>‚ö†Ô∏è Choose Kafka/RabbitMQ When:</h4>
    <ul>
        <li>Message volume &gt; 100,000/day</li>
        <li>Sub-millisecond latency required</li>
        <li>Complex stream processing needed</li>
        <li>Operating within single organization</li>
        <li>Have dedicated DevOps team</li>
        <li>Need built-in partitioning/sharding</li>
        <li>Require transaction support</li>
    </ul>
</div>

<h3>Federated Architecture Advantage</h3>
<p>ZOSCII MQ's <code>replikate.php</code> enables a unique federated architecture:</p>

<pre style="background-color: #f5f5f5; padding: 15px; border-radius: 5px;">
Company A (Sydney)     Company B (Tokyo)      Company C (London)
    ZOSCII MQ    ‚Üê‚îÄ‚îÄ‚Üí    ZOSCII MQ    ‚Üê‚îÄ‚îÄ‚Üí    ZOSCII MQ
         ‚Üì                    ‚Üì                     ‚Üì
   [Own Control]        [Own Control]         [Own Control]
   [Own Security]       [Own Security]        [Own Security]
   [Own Data]           [Own Data]            [Own Data]
</pre>

<p>Each node operates independently - no central point of failure, no shared infrastructure, perfect for B2B logistics and freight forwarding where different organizations need to maintain sovereignty over their systems.</p>

<h3>Total Cost of Ownership (TCO)</h3>
<table>
    <thead>
        <tr>
            <th>Cost Factor</th>
            <th>ZOSCII MQ</th>
            <th>Kafka</th>
            <th>RabbitMQ</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><strong>Infrastructure</strong></td>
            <td>$5-50/month (VPS)</td>
            <td>$500-5000+/month</td>
            <td>$100-1000/month</td>
        </tr>
        <tr>
            <td><strong>Operational Expertise</strong></td>
            <td>Junior PHP dev</td>
            <td>Senior DevOps team</td>
            <td>Mid-level DevOps</td>
        </tr>
        <tr>
            <td><strong>Monitoring Tools</strong></td>
            <td>Built-in (statissa.php)</td>
            <td>Prometheus/Grafana/etc</td>
            <td>Management plugin</td>
        </tr>
        <tr>
            <td><strong>High Availability</strong></td>
            <td>rsync/filesystem backup/replikate.php</td>
            <td>Complex cluster config</td>
            <td>Cluster + mirroring</td>
        </tr>
    </tbody>
</table>

<!-- END COMPARISON SECTION -->

	</div>
	
	<div class="footer">
		<h3>License and Information</h3>
		<p><strong>MIT License</strong> - (c) 2025 Cyborg Unicorn Pty Ltd</p>
		<p>
			<a href="https://zoscii.com" target="_blank" style="color: #007bff;">zoscii.com</a> |
			<a href="https://github.com/PrimalNinja/cyborgzoscii" target="_blank" style="color: #007bff;">GitHub Repository</a> |
		</p>
		<p style="margin-top: 20px; font-size: 0.9em;">
			For technical questions, security concerns, or implementation assistance,<br>
			please visit the project website or file an issue on GitHub.
		</p>
	</div>
</body>
</html>
